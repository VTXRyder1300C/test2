<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <meta charset="utf-8"></meta>
    <title>Budget Tracker</title>
    <!-- Google Fonts -->

    <!-- Bootstrap Scripts-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
            integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
    crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <!-- CSS-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"></link>
    <link rel="stylesheet" href="css/styles.css"></link>
    <h:outputStylesheet library="css" name="Styles.css"/>
    <h:head>
        <!--        <title>Homepage</title>-->
    </h:head>
    <body>                
        <div class="messagecolor">
            <h:messages showSummary="true" 
                        showDetail="false"
                        errorStyle="color: #d20005" 
                        infoStyle="color: blue"/>
        </div>
        <div class="main">
            <h1 class="postit" id="loginWelcome" style="display:none; color:#00FF00;">#{users.username}</h1>
            <section id="title">
                <div class="container-fluid">
                    <nav class="navbar navbar-expand-lg navbar-dark">
                        <p class="navbar-brand" href="">Budget Tracker</p>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
                                aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                            <ul class="navbar-nav ml-auto">
                                <li class="nav-item">
                                    <a class="nav-link" href="#footer">Contact us</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#features">Features</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#testimonials">Reviews</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#focus">Our focus</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                    <div class="row">

                        <div class="col-lg-6">
                            <h1>Stay on top of your finances all in one place!</h1>
                            <h:form >
                                <div id="loginOptions" style="display: block">
                                    <h:commandButton class="btn btn-dark btn-lg download-button" role="button" 
                                                     id="login" 
                                                     value="Login"
                                                     style="display: inline-block"
                                                     action="login" />
                                    <h:commandButton class="btn btn-outline-light btn-lg download-button"
                                                     id="create" 
                                                     value="Sign-up" 
                                                     style="display: inline-block"
                                                     action="create" />
                                </div>
                                <div  id="afterLogin" style="display: none">
                                    <h:form style="display: inline-block">
                                        <!--        <a id="myLink" href = "mainpage"></a>-->
                                        <h:inputText id="username"
                                                     style="display:none;"
                                                     value="#{users.username}"
                                                     maxlength="25" />
                                        <h:inputText id="userID"
                                                     value="#{users.userID}"
                                                     style="display:none;"
                                                     maxlength="25" />
                                        <p></p>
                                        <h:commandButton class="btn btn-dark btn-lg download-button"
                                                         id="submit" 
                                                         value="Lets start budgeting!" 
                                                         action="Mainpage" />
                                    </h:form>
                                    <h:form style="display: inline-block">
                                        <h:selectOneMenu value="#{users.table}" style="display: none">
                                            <f:selectItem itemValue="logout" itemLabel="logout"/>
                                        </h:selectOneMenu>
                                        <h:commandButton class="btn btn-lg btn-danger download-button" id="reset" value="Logout" action="index"/>
                                    </h:form>
                                </div>
                            </h:form>
<!--                            <h1 class="postit" id="loginWelcome" style="display:block; color:#00FF00;">#{users.username}</h1>-->
                            <h1 id="userExists" style="display:none; color:red;">Sorry, username already exists!</h1>
                            <h1 id="failed" style="display:none; color:red;">Error! Incorrect information entered</h1>
                            <h1 id="passwordMismatch" style="display:none; color:red;">Error! Passwords do not match.</h1>
                        </div>

                        <div class="col-lg-6">
                            <img class="title-image" src="resources/images/jar.png" alt="iphone-mockup"></img>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Features -->

            <section id="features">

                <div class="row">
                    <div class="col-lg-4 feature-box">
                        <i class="fas fa-check-circle fa-4x mid-icon"></i>
                        <h3>Easy to use.</h3>
                        <p>A website that has only the essentials for tracking your budget and nothing else.</p>
                    </div>
                    <div class="col-lg-4 feature-box">
                        <i class="fas fa-bullseye fa-4x mid-icon"></i><br></br>
                        <h3>Chart Your Progress.</h3>
                        <p>We take your budget seriously.  View a chart in real-time to plot your next savings goal. </p>
                    </div>
                    <div class="col-lg-4 feature-box">
                        <i class="fas fa-heart fa-4x mid-icon"></i>
                        <h3>Save Money.</h3>
                        <p>You will love seeing where your money goes and what areas you can save.</p>
                    </div>
                </div>
            </section>
            <!-- Testimonials -->

            <section id="testimonials">
                <div id="testimonial-slides" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <h2>I no longer have to worry about losing track of my expenses.
                                Budget Tracker has saved me more than I could have ever thought!</h2>
                            <img class="testimonial-image" src="resources/images/man.png" alt="man-profile"></img>
                            <em>Donald, New York</em>
                        </div>
                        <div class="carousel-item">
                            <h2 class="testimonial-text">Finally, a place where I can track both my income and expenses all in once place!</h2>
                            <img class="testimonial-image" src="resources/images/lady-img.jpg" alt="lady-profile"></img>
                            <em>Beverly, Illinois</em>
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#testimonial-slides" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </a>
                    <a class="carousel-control-next" href="#testimonial-slides" role="button" data-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </a>
                </div>


                <!--  -->

                <!-- Press -->

                <section id="press">
                    <img class="press-logo" src="resources/images/TechCrunch.png" alt="tc-logo"></img>
                    <img class="press-logo" src="resources/images/tnw.png" alt="tnw-logo"></img>
                    <img class="press-logo" src="resources/images/bizinsider.png" alt="biz-insider-logo"></img>
                    <img class="press-logo" src="resources/images/mashable.png" alt="mashable-logo"></img>

                </section>


                <!-- Pricing -->

                <section id="focus">
                    <div class="focus-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
                        <h1>Simple Features, Powerful results</h1>
                        <p class="lead">Budget Tracker is a easy way to visualize where your money comes from and where it is going.</p>
                    </div>

                    <div class="container">
                        <div class="card-deck mb-3 text-center">
                            <div class="card mb-4 shadow-lg">
                                <div class="cardTop">
                                </div>
                                <div class="card-body">
                                    <h1 class="card-title"><small class="text-muted">Income</small></h1>
                                    <ul class="list-unstyled mt-3 mb-4">
                                        <li><i class="fas fa-dollar-sign"></i> Track money coming in</li>
                                        <li><i class="fas fa-dollar-sign"></i> Organize by category</li>
                                        <li><i class="fas fa-dollar-sign"></i> Search through</li>
                                        <li><br></br></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card mb-4 shadow-lg">
                                <div class="cardTop">
                                </div>
                                <div class="card-body">
                                    <h1 class="card-title"><small class="text-muted">Expenses</small></h1>
                                    <ul class="list-unstyled mt-3 mb-4">
                                        <li><i class="fas fa-dollar-sign"></i> Track all your expenses</li>
                                        <li><i class="fas fa-dollar-sign"></i> Add notes</li>
                                        <li><i class="fas fa-dollar-sign"></i> Identify trends</li>
                                        <li><br></br></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card mb-4 shadow-lg">
                                <div class="cardTop">
                                </div>
                                <div class="card-body">
                                    <h1 class="card-title"><small class="text-muted">Totals</small></h1>
                                    <ul class="list-unstyled mt-3 mb-4">
                                        <li><i class="fas fa-dollar-sign"></i> Know how much you have</li>
                                        <li><i class="fas fa-dollar-sign"></i> Instant calculation updates</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </section>


                <!-- Call to Action -->

                <section id="cta">

                    <h2>Start today and be amazed at how easy it is to budget.</h2>
                </section>

                <!-- Footer -->

                <footer id="footer">
                    <p>Contact us</p>
                    <i class="fab fa-twitter bottom-icon"></i>
                    <i class="fab fa-facebook bottom-icon"></i>
                    <i class="fab fa-instagram bottom-icon"></i>
                    <i class="fas fa-envelope bottom-icon"></i>
                    <p>Â© Copyright 2018 BudgetTracker</p>

                </footer>

            </section>
        </div>
        <script>
            if (#{users.userID} !== 0) {
                var user = #{users.userID};
                console.log("Inside If " + user);
            }
            console.log("Outside IF " + user);
            if (#{users.userID} === 0) {
                if (#{users.loginAttempted}) {
                    document.getElementById("failed").style.display = "block";
                }
            } else {
                document.getElementById("failed").style.display = "none";
            }
            if (#{users.userID} === 0) {//check if user is logged on and hide button if they are logged in
                document.getElementById("loginWelcome").style.display = "none";
                //document.getElementById("notLoggedIn").style.display = "block";
                if (#{users.userExists}) {
                    document.getElementById("userExists").style.display = "block";
                    document.getElementById("loginWelcome").style.display = "none";//hide welcome
                    //document.getElementById("notLoggedIn").style.display = "none";
                }
                if (#{users.passwordMismatch}) {
                    document.getElementById("passwordMismatch").style.display = "block"
                    //document.getElementById("notLoggedIn").style.display = "none";
                }
            }
            if (#{users.userID} !== 0) {//check if user is logged on and hide button if they are
                document.getElementById("loginOptions").style.display = "none";
                document.getElementById("afterLogin").style.display = "block";//Hide the login options
                alert("Welcome " + "#{users.username}" + "!");//welcome message instead of logon button
            }</script>
    </body>
</html>